<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Artwork &mdash; ZSIGNAL</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,400;0,500;0,600;0,700;1,400&family=IBM+Plex+Sans:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/z-gallery.css">
</head>
<body>

  <!-- HEADER -->
  <header class="header">
    <div class="container">
      <a href="index.html" class="logo"><div class="logo-square"></div>ZSIGNAL</a>
      <nav class="nav" id="nav">
        <a href="gallery.html" class="active">Gallery</a>
        <a href="studio.html">Studio</a>
        <a href="artist.html">Artist</a>
        <a href="theory.html">Theory</a>
      </nav>
      <div class="header-actions">
        <a href="gallery.html" class="btn btn-primary btn-sm">VIEW GALLERY</a>
        <button class="hamburger" onclick="document.getElementById('nav').classList.toggle('open')" aria-label="Menu">
          <span></span><span></span><span></span>
        </button>
      </div>
    </div>
  </header>

  <!-- BREADCRUMB -->
  <div class="container">
    <div class="breadcrumb">
      <a href="gallery.html">Gallery</a>
      <span>&rsaquo;</span>
      <a href="#" class="breadcrumb-era">Era</a>
      <span>&rsaquo;</span>
      <span class="breadcrumb-title">Title</span>
    </div>
  </div>

  <!-- ARTWORK DETAIL -->
  <section class="artwork-detail">
    <div class="container">
      <div class="artwork-main">
        <!-- LEFT: Artwork -->
        <div>
          <div class="artwork-image"></div>
          <div class="genesis-controls">
            <button class="btn btn-secondary btn-sm genesis-btn" id="genesis-btn">
              <svg viewBox="0 0 20 20" width="14" height="14" fill="currentColor" style="margin-right:6px;"><polygon points="4,2 18,10 4,18"/></svg>
              WATCH IT BUILD
            </button>
            <span class="genesis-status" id="genesis-status"></span>
          </div>

          <!-- Frame Preview -->
          <div style="margin-top:32px;">
            <div style="font-family:var(--z-font-mono);font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:0.1em;color:rgba(28,28,28,0.40);margin-bottom:12px;">Frame Preview</div>
            <div class="frame-preview frame-none">
              <div class="frame-mat">
                <div class="frame-artwork" style="width:280px;height:280px;"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- RIGHT: Sidebar -->
        <div class="artwork-sidebar">
          <h1 class="artwork-title">Loading...</h1>
          <div class="artwork-artist-line"></div>
          <p class="artwork-description"></p>

          <div class="order-section-title">Order a Print</div>

          <!-- SIZE -->
          <div class="selector-group">
            <div class="selector-label">Size</div>
            <div class="selector-options">
              <button class="selector-option" data-size="small">8&times;10&Prime;</button>
              <button class="selector-option" data-size="medium">16&times;20&Prime;</button>
              <button class="selector-option" data-size="large">24&times;36&Prime;</button>
              <button class="selector-option" data-size="xl">30&times;40&Prime;</button>
            </div>
          </div>

          <!-- FRAME -->
          <div class="selector-group">
            <div class="selector-label">Frame</div>
            <div class="selector-options">
              <button class="selector-option" data-frame="none">None</button>
              <button class="selector-option" data-frame="black">Black</button>
              <button class="selector-option" data-frame="white">White</button>
              <button class="selector-option" data-frame="oak">Oak</button>
              <button class="selector-option" data-frame="gold">Gold</button>
            </div>
          </div>

          <!-- MATERIAL -->
          <div class="selector-group">
            <div class="selector-label">Material</div>
            <div class="selector-options">
              <button class="selector-option" data-material="paper">Fine Art Paper</button>
              <button class="selector-option" data-material="canvas">Canvas</button>
              <button class="selector-option" data-material="acrylic">Acrylic</button>
            </div>
          </div>

          <!-- PRICE -->
          <div class="price-display">
            <div class="price-line">
              <span>Print</span>
              <span class="price-base">$159</span>
            </div>
            <div class="price-line muted">
              <span>Frame</span>
              <span class="price-frame-val">&mdash;</span>
            </div>
            <div class="price-total">
              <span>Total</span>
              <span class="price-total-val">$159</span>
            </div>
          </div>

          <!-- ORDER BUTTON -->
          <button class="btn btn-primary btn-full order-btn">
            ORDER PRINT &mdash; <span class="order-btn-price">$159</span>
          </button>

          <div class="shipping-info">
            Free worldwide shipping. 5&ndash;7 business days.<br>
            30-day satisfaction guarantee.
          </div>

          <!-- TECHNICAL DETAILS -->
          <div class="artwork-tech">
            <div class="artwork-tech-title">Technical Details</div>
            <div class="artwork-tech-grid">
              <div class="artwork-tech-item"><span>Archetype: </span><span class="tech-archetype"></span></div>
              <div class="artwork-tech-item"><span>Palette: </span><span class="tech-palette"></span></div>
              <div class="artwork-tech-item"><span>Seed: </span><span class="tech-seed"></span></div>
              <div class="artwork-tech-item"><span>Density: </span><span class="tech-density"></span></div>
              <div class="artwork-tech-item"><span>Engine: </span><span>ZIGNAL.ENGINE V2</span></div>
              <div class="artwork-tech-item"><span>Canvas: </span><span>560 &times; 560</span></div>
            </div>
          </div>
        </div>
      </div>

      <!-- RELATED -->
      <div class="related-section">
        <div class="section-header" style="text-align:left;">
          <h2>More from this Era</h2>
        </div>
        <div class="grid-3 related-grid"></div>
      </div>
    </div>
  </section>

  <!-- ORDER MODAL -->
  <div class="modal-overlay">
    <div class="modal">
      <h3>Order Confirmed</h3>
      <p>This is a demonstration. In a production environment, you would be redirected to a secure checkout.</p>
      <div class="modal-summary" style="font-family:var(--z-font-mono);font-size:14px;line-height:1.8;margin-bottom:24px;padding:16px;border:2px solid #1C1C1C;text-align:left;"></div>
      <button class="btn btn-secondary modal-close">CLOSE</button>
    </div>
  </div>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-brand">
          <a href="index.html" class="logo"><div class="logo-square"></div>ZSIGNAL</a>
          <p>Generative Bauhaus art. Algorithmic compositions available as museum-quality framed prints.</p>
        </div>
        <div class="footer-col">
          <h4>Gallery</h4>
          <a href="gallery.html">All Works</a>
          <a href="gallery.html?era=I">Era I</a>
          <a href="gallery.html?era=III">Era III</a>
          <a href="gallery.html?era=VI">Era VI</a>
        </div>
        <div class="footer-col">
          <h4>Theory</h4>
          <a href="artist.html">The Artist</a>
          <a href="theory.html">The Platform</a>
          <a href="theory.html#faq">FAQ</a>
        </div>
        <div class="footer-col">
          <h4>Legal</h4>
          <a href="#">Terms</a>
          <a href="#">Privacy</a>
          <a href="#">Shipping</a>
        </div>
      </div>
      <div class="footer-bottom">
        <span class="footer-copy">&copy; 2026 ZSIGNAL Gallery. All rights reserved.</span>
      </div>
    </div>
  </footer>

  <script src="js/z-engine.js"></script>
  <script src="js/z-catalog.js"></script>
  <script src="js/z-gallery.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      ZGallery.initArtworkPage();

      // Animated Genesis View
      const params = new URLSearchParams(window.location.search);
      const id = params.get('id');
      const work = id ? ZCatalog.getById(id) : null;
      if (work) {
        const genesisBtn = document.getElementById('genesis-btn');
        const genesisStatus = document.getElementById('genesis-status');
        let controller = null;

        genesisBtn.addEventListener('click', () => {
          const artContainer = document.querySelector('.artwork-image');
          if (controller && controller.isPlaying()) {
            controller.reveal();
            genesisBtn.innerHTML = '<svg viewBox="0 0 20 20" width="14" height="14" fill="currentColor" style="margin-right:6px;"><polygon points="4,2 18,10 4,18"/></svg> WATCH IT BUILD';
            genesisStatus.textContent = '';
            return;
          }

          controller = ZEngine.renderAnimated(artContainer, {
            archetype: work.archetype,
            palette: work.palette,
            seed: work.seed,
            density: work.density
          }, {
            delayPerElement: 150,
            initialDelay: 400,
            onComplete: () => {
              genesisBtn.innerHTML = '<svg viewBox="0 0 20 20" width="14" height="14" fill="currentColor" style="margin-right:6px;"><path d="M4,4 L16,4 L16,16 L4,16 Z M7,2 L7,6 M13,2 L13,6 M7,14 L7,18 M13,14 L13,18"/></svg> REPLAY GENESIS';
              genesisStatus.textContent = controller.elementCount + ' elements rendered';
            }
          });
          controller.play();
          genesisBtn.innerHTML = '<svg viewBox="0 0 20 20" width="14" height="14" fill="currentColor" style="margin-right:6px;"><rect x="4" y="3" width="4" height="14"/><rect x="12" y="3" width="4" height="14"/></svg> SKIP';
          genesisStatus.textContent = 'Building...';
        });
      }
    });
  </script>
</body>
</html>
